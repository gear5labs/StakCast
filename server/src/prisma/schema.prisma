generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum MarketType {
  GENERAL
  CRYPTO
  SPORTS
  BUSINESS
}

enum ChoiceIndex {
  CHOICE_0
  CHOICE_1
}

model Market {
  id               String       @id @map("market_id")
  title            String
  description      String
  marketType       MarketType
  category         String
  imageUrl         String
  endTime          BigInt
  isResolved       Boolean      @default(false)
  isOpen           Boolean      @default(true)
  winningChoice    ChoiceIndex?
  totalPool        Decimal      @default(0) @db.Decimal(78, 0)
  creator          String       @db.VarChar(256)
  createdAt        DateTime     @default(now())
  updatedAt        DateTime     @updatedAt
  choice0Label     String
  choice0Staked    Decimal      @default(0) @db.Decimal(78, 0)
  choice1Label     String
  choice1Staked    Decimal      @default(0) @db.Decimal(78, 0)
  comparisonType   Int?
  assetKey         String?
  targetValue      BigInt?
  eventId          BigInt?
  teamFlag         Boolean?

  @@map("markets")
}
